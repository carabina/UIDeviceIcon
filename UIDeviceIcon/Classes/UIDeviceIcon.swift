//
//  UIDeviceIcon.swift
//  UIDeviceIcon
//
//  Created by theoriginalbit on 27/10/18.
//  Copyright Â© 2018 theoriginalbit. All rights reserved.
//

import UIKit
import UIDeviceModel
import SVGPath

public enum DeviceIconError: Error {
    case unsupportedDevice(UIDeviceModel)
}

public enum UIDeviceIcon {
    case deviceIcon(CAShapeLayer)
    case unknown(String)
    case unsupported(UIDeviceModel)
}

extension UIDeviceIcon {

    static var current: UIDeviceIcon {
        return mapFromModel(model: UIDevice.current.deviceModel)
    }
    
    static private func mapFromModel(model: UIDeviceModel) -> UIDeviceIcon {
        let actualModel = model.unwrapIfSimulator
        let path: UIBezierPath
        
        switch actualModel {
        case .iPad:
            path = iPad
        case .iPad2, .iPad3, .iPad4, .iPad5, .iPad6:
            path = iPad2
        case .iPadAir, .iPadAir2, .iPadPro9Inch:
            path = iPadAir
        case .iPadPro10Inch:
            path = iPadPro10Inch
        case .iPadPro12Inch, .iPadPro12Inch2:
            path = iPadPro12Inch
        case .iPadMini, .iPadMini2, .iPadMini3, .iPadMini4:
            path = iPadMini
        case .iPhone5s:
            path = iPhone5s
        case .iPhoneSE:
            path = iPhoneSE
        case .iPhone6, .iPhone6s, .iPhone7, .iPhone8:
            path = iPhone6
        case .iPhone6Plus, .iPhone6sPlus, .iPhone7Plus, .iPhone8Plus:
            path = iPhone6Plus
        case .iPhoneX, .iPhoneXS:
            path = iPhoneX
        case .iPhoneXSMax:
            path = iPhoneXSMax
        case .iPhoneXR:
            path = iPhoneXR
        case .iPodTouch, .iPodTouch2, .iPodTouch3, .iPodTouch4, .iPodTouch5, .iPodTouch6:
            path = iPodTouch
        
        // all cases we don't have icons
            
        case .iPhone, .iPhone3G, .iPhone3GS, .iPhone4, .iPhone4s, .iPhone5, .iPhone5c:
            return .unsupported(model)
        case .simulator(_):
            fatalError("ðŸ¤¥") // we just unwrapped it!
        case .unknown(let device):
            return .unknown(device)
        }
        
        let layer = CAShapeLayer()
        layer.path = path.cgPath
        layer.fillColor = UIColor.black.cgColor
        return .deviceIcon(layer)
    }
    
    static private var iPad = UIBezierPath(svgPath: "M26.743,-9.4802638e-16 L1.257,-9.4802638e-16 C0.923454879,-0.00458433095 0.602129921,0.125410923 0.365597946,0.360625695 C0.129065972,0.595840467 -0.00272163669,0.916434479 3.88578059e-16,1.25 L3.88578059e-16,38.75 C-0.00244638458,39.0834822 0.129429285,39.4039153 0.365900699,39.6390699 C0.602372113,39.8742244 0.923536618,40.0043086 1.257,40 L26.743,40 C27.0764634,40.0043086 27.3976279,39.8742244 27.6340993,39.6390699 C27.8705707,39.4039153 28.0024464,39.0834822 28,38.75 L28,1.25 C28.0027216,0.916434479 27.870934,0.595840467 27.6344021,0.360625695 C27.3978701,0.125410923 27.0765451,-0.00458433095 26.743,-9.4802638e-16 Z M14,39 C13.4477153,39 13,38.5522847 13,38 C13,37.4477153 13.4477153,37 14,37 C14.5522847,37 15,37.4477153 15,38 C15,38.5522847 14.5522847,39 14,39 Z M26,36 L2,36 L2,4 L26,4 L26,36 Z")
    
    static private var iPad2 = UIBezierPath(svgPath: "M26.743,-9.4802638e-16 L1.257,-9.4802638e-16 C0.923454879,-0.00458433095 0.602129921,0.125410923 0.365597946,0.360625695 C0.129065972,0.595840467 -0.00272163669,0.916434479 3.88578059e-16,1.25 L3.88578059e-16,38.75 C-0.00244638458,39.0834822 0.129429285,39.4039153 0.365900699,39.6390699 C0.602372113,39.8742244 0.923536618,40.0043086 1.257,40 L26.743,40 C27.0764634,40.0043086 27.3976279,39.8742244 27.6340993,39.6390699 C27.8705707,39.4039153 28.0024464,39.0834822 28,38.75 L28,1.25 C28.0027216,0.916434479 27.870934,0.595840467 27.6344021,0.360625695 C27.3978701,0.125410923 27.0765451,-0.00458433095 26.743,-9.4802638e-16 Z M14,1.5 C14.2761424,1.5 14.5,1.72385763 14.5,2 C14.5,2.27614237 14.2761424,2.5 14,2.5 C13.7238576,2.5 13.5,2.27614237 13.5,2 C13.5,1.72385763 13.7238576,1.5 14,1.5 Z M14,39 C13.4477153,39 13,38.5522847 13,38 C13,37.4477153 13.4477153,37 14,37 C14.5522847,37 15,37.4477153 15,38 C15,38.5522847 14.5522847,39 14,39 Z M26,36 L2,36 L2,4 L26,4 L26,36 Z")
    
    static private var iPadAir = UIBezierPath(svgPath: "M24.933,0 L24.923,0 L1.077,0 L1.067,0 C0.378,0 0,0.447 0,1.154 L0,7.875 L0,36.347 C0,37.053 0.378,38 1.067,38 L24.933,38 C25.622,38 26,37.053 26,36.346 L26,7.874 L26,1.153 C26,0.447 25.622,0 24.933,0 Z M13,1.343 C13.268,1.343 13.49,1.567 13.49,1.838 C13.49,2.109 13.268,2.333 13,2.333 C12.732,2.333 12.51,2.109 12.51,1.838 C12.51,1.567 12.732,1.343 13,1.343 Z M13.005,37.019 C12.457,37.019 12.009,36.571 12.009,36.023 C12.009,35.475 12.457,35.027 13.005,35.027 C13.553,35.027 14.001,35.475 14.001,36.023 C14,36.571 13.552,37.019 13.005,37.019 Z M24,34 L2,34 L2,3.5 L24,3.5 L24,34 Z")
    
    static private var iPadPro10Inch = UIBezierPath(svgPath: "M26.76,-1.0658141e-14 L1.23,-1.0658141e-14 C0.55,-1.0658141e-14 -7.10542736e-15,0.539874448 -7.10542736e-15,1.23971169 L-7.10542736e-15,41.7602883 C-7.10542736e-15,42.4601256 0.55,43 1.23,43 L26.76,43 C27.44,43 28,42.4601256 28,41.7602883 L28,1.23971169 C28,0.539874448 27.45,-1.0658141e-14 26.76,-1.0658141e-14 Z M14,1.37967914 C14.34,1.37967914 14.62,1.65961404 14.62,1.99953499 C14.62,2.33945594 14.34,2.61939084 14,2.61939084 C13.66,2.61939084 13.38,2.33945594 13.38,1.99953499 C13.38,1.65961404 13.66,1.37967914 14,1.37967914 Z M14.02,42.0002325 C13.47,42.0002325 13.02,41.5403395 13.02,41.000465 C13.02,40.4605906 13.47,40.0006975 14.02,40.0006975 C14.57,40.0006975 15.02,40.4605906 15.02,41.000465 C15.01,41.5403395 14.56,42.0002325 14.02,42.0002325 Z M26,38.9909323 L2,38.9909323 L2,3.99906998 L26,3.99906998 L26,38.9909323 Z")
    
    static private var iPadPro12Inch = UIBezierPath(svgPath: "M32.4942857,-1.0658141e-14 L1.49357143,-1.0658141e-14 C0.667857143,-1.0658141e-14 -7.10542736e-15,0.602650546 -7.10542736e-15,1.38386422 L-7.10542736e-15,46.6161358 C-7.10542736e-15,47.3973495 0.667857143,48 1.49357143,48 L32.4942857,48 C33.32,48 34,47.3973495 34,46.6161358 L34,1.38386422 C34,0.602650546 33.3321429,-1.0658141e-14 32.4942857,-1.0658141e-14 Z M17,46.9902104 C16.45,46.9902104 16,46.5303062 16,45.9904187 C16,45.4505311 16.45,44.990627 17,44.990627 C17.55,44.990627 18,45.4505311 18,45.9904187 C17.99,46.5303062 17.54,46.9902104 17,46.9902104 Z M32,43.9908352 L2,43.9908352 L2,3.99916684 L32,3.99916684 L32,43.9908352 Z M17,1.24973964 C17.41,1.24973964 17.75,1.58966882 17.75,1.99958342 C17.75,2.40949802 17.41,2.7494272 17,2.7494272 C16.59,2.7494272 16.25,2.40949802 16.25,1.99958342 C16.25,1.58966882 16.59,1.24973964 17,1.24973964 Z")
    
    static private var iPadMini = UIBezierPath(svgPath: "M20.737,3.55271368e-15 L1.27,3.55271368e-15 C0.582868556,0.0186499523 0.0290122717,0.569000817 0.006,1.256 L0,29.8 C0.0342241108,30.4753022 0.593843423,31.0040763 1.27,31 L20.737,31 C21.4228541,30.9778764 21.9746107,30.428741 22,29.743 L22,1.256 C21.9770149,0.569375714 21.4237414,0.0191687177 20.737,0 Z M10.944,1.251 C11.181219,1.25210336 11.3727327,1.44510674 11.3719979,1.68232713 C11.3712632,1.91954753 11.1785577,2.11136091 10.9413364,2.11099484 C10.7041152,2.11062876 10.5120026,1.91822153 10.512,1.681 C10.5130985,1.44358401 10.7055821,1.25154704 10.943,1.251 L10.944,1.251 Z M11,30.5 C10.4477153,30.5 10,30.0522847 10,29.5 C10,28.9477153 10.4477153,28.5 11,28.5 C11.5522847,28.5 12,28.9477153 12,29.5 C12,30.0522847 11.5522847,30.5 11,30.5 Z M20,28 L2,28 L2,3 L20,3 L20,28 Z")
    
    static private var  iPhone5s = UIBezierPath(svgPath: "M14.057,0 L3,0 C1.229,0 0,1.181 0,2.935 L0,32.067 C0,33.82 1.232,35 3,35 L14.057,35 C15.787,35 17,33.801 17,32.067 L17,2.935 C17,1.207 15.821,0 14.057,0 Z M7,2 L10,2 L10.001,2.5 L7.001,2.5 L7,2 Z M8.5,34.5 C7.674,34.5 7,33.827 7,33 C7,32.172 7.674,31.5 8.5,31.5 C9.327,31.5 10,32.172 10,33 C10,33.827 9.328,34.5 8.5,34.5 Z M16,31 L1,31 L1,4 L16,4 L16,31 Z M8.5,32.005 C7.948,32.005 7.5,32.453 7.5,33.005 C7.5,33.556 7.948,34.005 8.5,34.005 C9.051,34.005 9.5,33.556 9.5,33.005 C9.5,32.453 9.052,32.005 8.5,32.005 Z")
    
    static private var iPhoneSE = UIBezierPath(svgPath: "M14.06,0 L3,0 C1.23,0 0,1.18 0,2.93 L0,32.06 C0,33.82 1.23,35 3,35 L14.06,35 C15.79,35 17,33.8 17,32.07 L17,2.93 C17,1.21 15.82,0 14.06,0 Z M7,2 L10,2 L10,2.5 L7,2.5 L7,2 Z M8.5,34 C7.95,34 7.5,33.55 7.5,33 C7.5,32.45 7.95,32 8.5,32 C9.05,32 9.5,32.45 9.5,33 C9.5,33.55 9.05,34 8.5,34 Z M16,31 L1,31 L1,4 L16,4 L16,31 Z")
    
    static private var iPhone6 = UIBezierPath(svgPath: "M16.1094091,0 L2.87331818,0 C1.2825,0 0,1.27511111 0,2.83142222 L0,35.1542222 C0,36.7130667 1.2825,38 2.87331818,38 L16.1094091,38 C17.6985,38 19,36.7130667 19,35.1542222 L19,2.83142222 C19,1.27511111 17.6985,0 16.1094091,0 Z M8.20454545,2.11195556 L10.7954545,2.11195556 L10.7954545,2.53417778 L8.20454545,2.53417778 L8.20454545,2.11195556 Z M9.50086364,37.3666667 C8.66659091,37.3666667 7.98863636,36.7046222 7.98863636,35.8888889 C7.98863636,35.0731556 8.66659091,34.4111111 9.50086364,34.4111111 C10.3342727,34.4111111 11.0113636,35.0731556 11.0113636,35.8888889 C11.0113636,36.7046222 10.3342727,37.3666667 9.50086364,37.3666667 Z M18.1363636,33.7777778 L0.863636364,33.7777778 L0.863636364,4.22222222 L18.1363636,4.22222222 L18.1363636,33.7777778 Z M9.5,36.7333333 C9.02413636,36.7333333 8.63636364,36.3533333 8.63636364,35.8880444 C8.63636364,35.4227556 9.02413636,35.0444444 9.5,35.0444444 C9.97586364,35.0444444 10.3636364,35.4227556 10.3636364,35.8880444 C10.3636364,36.3533333 9.97586364,36.7333333 9.5,36.7333333 Z")
    
    static private var iPhone6Plus = UIBezierPath(svgPath: "M18.653,0 L3.327,0 C1.485,0 0,1.51 0,3.353 L0,41.63 C0,43.476 1.485,45 3.327,45 L18.653,45 C20.493,45 22,43.476 22,41.63 L22,3.353 C22,1.51 20.493,0 18.653,0 Z M9.5,2.501 L12.5,2.501 L12.5,3.001 L9.5,3.001 L9.5,2.501 Z M11.001,44.25 C10.035,44.25 9.25,43.466 9.25,42.5 C9.25,41.534 10.035,40.75 11.001,40.75 C11.966,40.75 12.75,41.534 12.75,42.5 C12.75,43.466 11.966,44.25 11.001,44.25 Z M21,40 L1,40 L1,5 L21,5 L21,40 Z M11,43.5 C10.449,43.5 10,43.05 10,42.499 C10,41.948 10.449,41.5 11,41.5 C11.551,41.5 12,41.948 12,42.499 C12,43.05 11.551,43.5 11,43.5 Z")
    
    static private var iPhoneX = UIBezierPath(svgPath: "M17,41 C18.64,41 20,39.66 20,38.01 L20,14.14 L20,9.4 L20,2.99 C20,1.35 18.66,0 17.01,0 L2.99,0 C1.34,1.77635684e-15 0,1.34 0,2.99 L0,5.46 L0,15.12 L0,38.01 C0,39.66 1.36,41 3,41 L17,41 Z M12.6,1.3 C12.81,1.3 12.98,1.47 12.98,1.68 C12.98,1.89 12.81,2.06 12.6,2.06 C12.39,2.06 12.22,1.89 12.22,1.68 C12.22,1.47 12.39,1.3 12.6,1.3 Z M8.28,1.67 C8.28,1.63 8.29,1.49 8.47,1.49 L11.21,1.49 C11.39,1.49 11.4,1.63 11.4,1.67 L11.4,1.7 C11.4,1.74 11.39,1.88 11.21,1.88 L8.47,1.88 C8.29,1.88 8.28,1.74 8.28,1.7 L8.28,1.67 Z M13.98,3 C14.71,3 14.94,2.56 15,2.17 C15.01,2.11 15,1.39 15,1.36 C15.03,1.11 15.29,1.02 15.44,1 L17.2,1 C18.19,1 19,1.81 19,2.8 L19,38.2 C19,39.19 18.19,40 17.2,40 L2.8,40 C1.81,40 1,39.19 1,38.2 L1,2.8 C1,1.81 1.81,1 2.8,1 L4.56,1 C4.71,1.02 4.97,1.11 5,1.36 C5,1.38 4.99,2.11 5,2.17 C5.07,2.56 5.3,3 6.02,3 L13.98,3 Z")
    
    static private var iPhoneXR = UIBezierPath(svgPath: "M17.82,0 L3.18,0 C1.42601349,0.00548982593 0.00548982593,1.42601349 0,3.18 L0,40.82 C0.010964266,42.5756029 1.43437137,43.9945479 3.19,44 L17.81,44 C19.5656286,43.9945479 20.9890357,42.5756029 21,40.82 L21,3.18 C20.9945102,1.42601349 19.5739865,0.00548982593 17.82,2.66453526e-15 Z M13.5,1.13 C13.6545407,1.12593174 13.7961419,1.21589189 13.8581224,1.35751745 C13.9201028,1.49914302 13.8901065,1.66420042 13.782259,1.77496274 C13.6744115,1.88572506 13.5102125,1.92011142 13.3669848,1.86192899 C13.2237571,1.80374656 13.1300535,1.66459423 13.13,1.51 C13.1273003,1.41014894 13.1650873,1.31344835 13.2347705,1.2418818 C13.3044537,1.17031525 13.4001125,1.12996351 13.5,1.13 Z M9,1.25 L12,1.25 C12.1380712,1.25 12.25,1.36192881 12.25,1.5 C12.25,1.63807119 12.1380712,1.75 12,1.75 L9,1.75 C8.86192881,1.75 8.75,1.63807119 8.75,1.5 C8.75,1.36192881 8.86192881,1.25 9,1.25 Z M20,41.08 C20,41.5892157 19.7977149,42.0775752 19.437645,42.437645 C19.0775752,42.7977149 18.5892157,43 18.08,43 L2.92,43 C1.85961328,43 1,42.1403867 1,41.08 L1,3 C0.999140416,1.92593292 1.84679216,1.04296235 2.92,1 L4.55,1 C4.7,1 5,1 5,1.26 C5,1.26 5,2.05 5,2.11 C5.0527177,2.65939027 5.54055989,3.06219575 6.09,3.01 L14.92,3.01 C15.4587188,3.05692564 15.9371489,2.66709372 16,2.13 C16,2.07 16,1.28 16,1.26 C16,0.99 16.32,1.03 16.47,1 L18.08,1 C19.1532078,1.04296235 20.0008596,1.92593292 20,3 L20,41.08 Z")
    
    static private var iPhoneXSMax = UIBezierPath(svgPath: "M18.66,0 L3.34,0 C1.49764834,0.00549139768 0.00549139768,1.49764834 0,3.34 L0,42.66 C0.0109993702,44.5078615 1.51210575,46.0000327 3.36,46 L18.64,46 C20.4878943,46.0000327 21.9890006,44.5078615 22,42.66 L22,3.34 C21.9945086,1.49764834 20.5023517,0.00549139768 18.66,0 Z M13.5,1.13 C13.6545407,1.12593174 13.7961419,1.21589189 13.8581224,1.35751745 C13.9201028,1.49914302 13.8901065,1.66420042 13.782259,1.77496274 C13.6744115,1.88572506 13.5102125,1.92011142 13.3669848,1.86192899 C13.2237571,1.80374656 13.1300535,1.66459423 13.13,1.51 C13.1273003,1.41014894 13.1650873,1.31344835 13.2347705,1.2418818 C13.3044537,1.17031525 13.4001125,1.12996351 13.5,1.13 Z M9.25,1.47 C9.25,1.3540202 9.3440202,1.26 9.46,1.26 L12.53,1.26 C12.6459798,1.26 12.74,1.3540202 12.74,1.47 L12.74,1.54 C12.74,1.6559798 12.6459798,1.75 12.53,1.75 L9.46,1.75 C9.3440202,1.75 9.25,1.6559798 9.25,1.54 L9.25,1.47 Z M21,43 C21,44.1045695 20.1045695,45 19,45 L3,45 C1.8954305,45 1,44.1045695 1,43 L1,3 C1,1.8954305 1.8954305,1 3,1 L4.5,1 C4.66,1 4.96,1.14 4.99,1.42 C4.99,1.42 4.99,2.01 4.99,2.07 C5.00611996,2.35307653 5.14165002,2.61600324 5.36286759,2.79335871 C5.58408516,2.97071417 5.87019236,3.04582423 6.15,3 L15.86,3 C16.1366889,3.03963367 16.4173372,2.96165673 16.6339221,2.78496903 C16.850507,2.60828133 16.9832583,2.34901127 17,2.07 C17,2.01 17,1.43 17,1.4 C17,1.12 17.33,1.02 17.49,1 L19,1 C20.1045695,1 21,1.8954305 21,3 L21,43 Z")
    
    static private var iPodTouch = UIBezierPath(svgPath: "M14.0623862,0.0059107944 L3.00238619,0.0059107944 C2.2043014,-0.0458134525 1.42178873,0.243767185 0.849637895,0.802567831 C0.277487063,1.36136848 -0.0304844705,2.13682741 0.00238618911,2.93591079 L0.00238618911,32.0759108 C-0.0304844705,32.8749942 0.277487063,33.6504531 0.849637895,34.2092538 C1.42178873,34.7680544 2.2043014,35.057635 3.00238619,35.0059108 L14.0623862,35.0059108 C14.8512075,35.0432036 15.6193132,34.7468498 16.1786676,34.189398 C16.738022,33.6319461 17.0369912,32.8648546 17.0023862,32.0759108 L17.0023862,2.93591079 C17.0401326,2.14609733 16.7421732,1.37714452 16.1821016,0.818977948 C15.62203,0.260811371 14.8520665,-0.0345264181 14.0623862,0.0059107944 Z M8.52238619,33.0059108 C7.97010144,33.0059108 7.52238619,32.5581955 7.52238619,32.0059108 C7.52238619,31.453626 7.97010144,31.0059108 8.52238619,31.0059108 C9.07467094,31.0059108 9.52238619,31.453626 9.52238619,32.0059108 C9.52238619,32.5581955 9.07467094,33.0059108 8.52238619,33.0059108 Z M16.0023862,30.0059108 L1.00238619,30.0059108 L1.00238619,5.00591079 L16.0023862,5.00591079 L16.0023862,30.0059108 Z M9.00238619,2.51591079 C9.00238619,2.79205317 8.77852856,3.01591079 8.50238619,3.01591079 C8.22624381,3.01591079 8.00238619,2.79205317 8.00238619,2.51591079 C8.00238619,2.23976842 8.22624381,2.01591079 8.50238619,2.01591079 C8.77852856,2.01591079 9.00238619,2.23976842 9.00238619,2.51591079 Z")
    
}
